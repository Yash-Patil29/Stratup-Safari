<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <title>Founder Dashboard</title>
</head>
<body>
<<<<<<< HEAD
<h1>Welcome, Founder!</h1>
<p>Post co-founder requests and manage applications.</p>
=======
<h1>Welcome Founder!</h1>

<!-- Section: Post Co-Founder Request -->
<h2>Post a Co-Founder Request</h2>
<form id="postRequestForm">
    <input type="hidden" id="founderId" value="1" /> <!-- You will dynamically set this -->
    <label>Skills: <input type="text" id="skills" required></label><br>
    <label>Description: <textarea id="description" required></textarea></label><br>
    <button type="submit">Post Request</button>
</form>

<hr>

<!-- Section: View My Co-Founder Requests -->
<h2>My Co-Founder Requests</h2>
<button onclick="loadMyRequests()">Load Requests</button>
<div id="requestsContainer"></div>

<hr>

<!-- Section: View Applications for My Posts -->
<h2>Applications for My Co-Founder Requests</h2>
<button onclick="loadApplications()">Load Applications</button>
<div id="applicationsContainer"></div>

<hr>

<!-- Section: Submit Idea to Investor -->
<h2>Submit Idea to Investor</h2>
<form id="submitIdeaForm">
    <input type="hidden" id="founderIdForIdea" value="1" /> <!-- Dynamic value needed -->
    <label>Investor ID: <input type="number" id="investorId" required></label><br>
    <label>Title: <input type="text" id="title" required></label><br>
    <label>Description: <textarea id="ideaDescription" required></textarea></label><br>
    <button type="submit">Send Idea</button>
</form>

<script>
    async function loadMyRequests() {
        const email = "your-email@example.com"; // replace with the actual email dynamically
        const response = await fetch(`/api/founder/requests/${email}`);
        const data = await response.json();
        let html = "";
        data.forEach(req => {
            html += `<p><strong>${req.skills}</strong>: ${req.description}</p>`;
        });
        document.getElementById("requestsContainer").innerHTML = html;
    }

    async function loadApplications() {
        const founderId = document.getElementById("founderId").value; // dynamically get founderId
        const response = await fetch(`/api/founder/applications/${founderId}`);
        const data = await response.json();
        let html = "";
        data.forEach(app => {
            html += `<p><strong>From Co-founder ID ${app.cofounderId}</strong>: ${app.coverLetter} [${app.status}]</p>`;
        });
        document.getElementById("applicationsContainer").innerHTML = html;
    }

    // Handle form submission for posting co-founder request
    document.getElementById("postRequestForm").addEventListener("submit", async function(event) {
        event.preventDefault();
        const founderId = document.getElementById("founderId").value;
        const skills = document.getElementById("skills").value;
        const description = document.getElementById("description").value;

        const response = await fetch(`/api/founder/requests/${founderId}`, {
            method: "POST",
            headers: {
                "Content-Type": "application/json"
            },
            body: JSON.stringify({ skills, description })
        });

        const data = await response.json();
        alert("Request posted: " + data.skills);
    });

    // Handle form submission for submitting an idea to investor
    document.getElementById("submitIdeaForm").addEventListener("submit", async function(event) {
        event.preventDefault();
        const founderId = document.getElementById("founderIdForIdea").value;
        const investorId = document.getElementById("investorId").value;
        const title = document.getElementById("title").value;
        const description = document.getElementById("ideaDescription").value;

        const response = await fetch(`/api/founder/ideas`, {
            method: "POST",
            headers: {
                "Content-Type": "application/json"
            },
            body: JSON.stringify({ founderId, investorId, title, description })
        });

        const data = await response.json();
        alert("Idea submitted to investor: " + data.title);
    });
</script>
>>>>>>> 2fe70e86e82bc8d960c9a5a319b0ce6e9546f409
</body>
</html>